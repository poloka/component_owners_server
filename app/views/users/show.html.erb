<div class="container-fluid">
  <h1>User Details</h1>
  <%= form_with(model: @user, local: true) do |form| %>
    <div class="form-group">
      <%= form.label :username %>
      <%= form.text_field :username,class:"form-control", readonly:true%>
    </div>
    <div class="form-group">
      <%= form.label :first_name %>
      <%= form.text_field :first_name,class:"form-control", readonly:true%>
    </div>
    <div class="form-group">
      <%= form.label :last_name %>
      <%= form.text_field :last_name,class:"form-control", readonly:true%>
    </div>
    <br>
    <div>
      <h3>Components</h3>
      <% if @user.components.empty? %>
        No assignments
      <% else %>
        <table class="table">
          <thead>
          <tr>
            <th>Name</th>
            <th>Url</th>
            <th></th>
          </tr>
          </thead>
          <tbody>
          <% @user.components.each do |component| %>
            <tr>
              <td>
                <%= component.name %>
              </td>
              <td>
                <%= my_link_to(component.url) %>
              </td>
              <td>
                <%= link_to 'Show', component, class:"btn btn-light min-width-btn" %>
                <%= link_to 'Edit', edit_component_path(component),class:"btn btn-primary min-width-btn"  %>
              </td>
            </tr>
          <% end %>
          </tbody>
        </table>
      <% end %>
    </div>
  <% end %>
  <%= link_to 'Edit', edit_user_path(@user),class:"btn btn-primary min-width-btn" %> 
  <%= link_to 'Back', users_path,class:"btn btn-light min-width-btn" %>
</div>